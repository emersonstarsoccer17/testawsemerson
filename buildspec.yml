version: 0.2

phases:
  install:
    runtime-versions:
      python: 3.9  # Specify the Python version you want to use
    commands:
      # Install Robot Framework and required libraries
      - echo Installing Robot Framework and dependencies...
      - python3 -m pip install --upgrade pip
      - pip3 install robotframework robotframework-requests

  pre_build:
    commands:
      # Confirm installed versions
      - echo Checking installed versions...
      - python3 --version
      - pip3 --version
      - robot --version

  build:
    commands:
      # Run Robot Framework tests
      - echo Running Robot Framework tests...
      - robot api_tests.robot

  post_build:
    commands:
      # Display test results
      - echo Build completed. Check Robot Framework results.
      - cat output.xml

artifacts:
  files:
    - output.xml
    - report.html
    - log.html
  discard-paths: no
